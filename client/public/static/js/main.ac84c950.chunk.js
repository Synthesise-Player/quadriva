(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{30:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},31:function(e,t){var n="https://us-central1-quadrivia-ed25a.cloudfunctions.net/bigben";console.log("Client expects server at origin: ".concat(n)),e.exports={origin:n}},35:function(e,t,n){e.exports=n(72)},40:function(e,t,n){},43:function(e,t,n){},61:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(29),o=n.n(c),s=(n(40),n(5)),u=n.n(s),l=n(1),i=(n(42),n(30)),m=n.n(i),f=(n(43),n(7)),p=n.n(f),v=n(31),d=n.n(v).a.origin,b=function(e){return p.a.get("".concat(d,"/api/v1/search?q=").concat(e))},g=function(e){return p.a.get("".concat(d,"/api/v1/playlists/").concat(e,"/tracks"))},h=function(e){return p.a.post("".concat(d,"/api/v1/questions"),e)},E=(n(61),function(e){var t=e.setPlaylist,n=Object(a.useState)([]),c=Object(l.a)(n,2),o=c[0],s=c[1],i=Object(a.useState)(""),m=Object(l.a)(i,2),f=m[0],p=m[1],v=function(e){var t,n;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.preventDefault(),""===f){a.next=7;break}return a.next=4,u.a.awrap(b(f));case 4:t=a.sent,n=t.data,s(n.playlists.items.map((function(e){return{name:e.name,id:e.id,imgUrl:e.images[0].url}})));case 7:case"end":return a.stop()}}))},d=o.map((function(e){var n=e.name,a=e.id,c=e.imgUrl;return r.a.createElement("div",{style:{outline:"0"},role:"button",tabIndex:0,onClick:function(){return t(a)},onKeyPress:function(){return t(a)}},r.a.createElement("h1",null,n),r.a.createElement("img",{src:c,alt:n}))}));return r.a.createElement("div",null,r.a.createElement("form",{className:"example"},r.a.createElement("input",{type:"text",onChange:function(e){return p(e.target.value)},placeholder:"Search..",name:"search"}),r.a.createElement("button",{type:"submit",onTouchStart:v,onClick:v},"Search")),d)}),O=n(32),j=n.n(O),x=n(33),y=n(34),w=n(8);function C(e){for(var t=e,n=t.length-1;n>0;n-=1){var a=Math.floor(Math.random()*(n+1)),r=[t[a],t[n]];t[n]=r[0],t[a]=r[1]}return t}n(70);function S(e){var t=e.answer,n=e.incorrectAnswers,c=e.textColour,o=e.isRevealed,s=Object(a.useState)([{},{},{},{}]),u=Object(l.a)(s,2),i=u[0],m=u[1],f=Object(a.useState)([]),p=Object(l.a)(f,2),v=p[0],d=p[1];return Object(a.useEffect)((function(){var e=C([{value:t,revealed:r.a.createElement("p",{className:"text-success"},t)}].concat(Object(w.a)(n.map((function(e){return{value:e,revealed:r.a.createElement("p",{className:"text-danger"},e)}})))));m(e)}),[t].concat(Object(w.a)(n))),Object(a.useEffect)((function(){d(i.map((function(e){return Object(y.a)({},e,{hidden:r.a.createElement("p",{style:{color:c}},e.value)})})))}),[c].concat(Object(w.a)(i))),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},v.map((function(e){return r.a.createElement("div",{className:"col-sm-6"},o?e.revealed:e.hidden)}))))}n(71);var k=function(e){return r.a.createElement(j.a,{url:e,playing:!0})};function N(e){var t=e.track,n=e.setColour,c=e.shiftQuestion,o=e.textColour,s=Object(a.useState)(0),i=Object(l.a)(s,2),m=i[0],f=i[1],p=Object(a.useState)(),v=Object(l.a)(p,2),d=v[0],b=v[1],g=Object(a.useRef)(null);Object(a.useEffect)((function(){if(t){!function(){var e,n;u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u.a.awrap(h(t));case 2:e=a.sent,n=e.data,b(n);case 5:case"end":return a.stop()}}))}()}}),[t]);var E,O=function(){0===m?f(m+1):(f(0),c())};if(d){var j=d.answer,y=d.incorrectAnswers,w=r.a.createElement(S,{isRevealed:1===m,answer:j,incorrectAnswers:y,textColour:o});E=r.a.createElement("div",{className:"question"},r.a.createElement("h1",{style:{"font-size":"5vw",color:o}},d.message),r.a.createElement("img",{onLoad:function(){var e=new x.a,t=g.current;n(e.getColor(t,10))},crossOrigin:"anonymous",ref:g,src:d.imgUrl,className:"Record",alt:"albumImage"}),w,k(d.previewUrl))}return r.a.createElement("div",{style:{outline:"0"},role:"button",tabIndex:0,onKeyPress:function(){return O()},onClick:function(){return O()}},E)}var A=function(e){var t=Object(l.a)(e,3),n=t[0],a=t[1],r=t[2];return Math.round((299*n+587*a+114*r)/1e3)>125?"black":"white"};o.a.render(r.a.createElement((function(){var e=Object(a.useState)(),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)([40,44,52]),s=Object(l.a)(o,2),i=s[0],f=s[1];return r.a.createElement("div",{style:{background:"rgb(".concat(i.toString(),") url(connected.png)")},className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",{style:{"font-size":"5vw",color:A(i)}},"Quadrivia"),n?null:r.a.createElement("img",{src:m.a,className:"App-logo",alt:"logo"}),n?null:r.a.createElement(E,{setPlaylist:function(e){var t,n;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u.a.awrap(g(e));case 2:t=a.sent,n=t.data,c(C(n));case 5:case"end":return a.stop()}}))}}),n&&n.length>0?r.a.createElement(N,{style:{outline:"0"},textColour:A(i),setColour:f,shiftQuestion:function(){1===n.length?c(null):c(n.splice(1))},track:n[0]}):null))}),null),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.ac84c950.chunk.js.map